<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
      integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
      crossorigin="anonymous"
    />

    <title>Hello, world!</title>
  </head>
  <body>
    <input type="text" name="" id="searcher" />
    <div class="dropdown">
      <button
        class="btn btn-secondary dropdown-toggle"
        type="button"
        id="dropdownMenuButton"
        data-toggle="dropdown"
        aria-expanded="false"
      >
        Dropdown button
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item" href="#">email</a>
        <a class="dropdown-item" href="#">Username</a>
        <a class="dropdown-item" href="#">Name</a>
      </div>
    </div>
    <button onclick="listCreator()">create!</button>

    <!-- 
fetch everything
pass the fetched data to a variable
grab the text from the input
filter this variable with .filter
-->

    <script>
      let list = [];

      //  const fetcher = async function(){

      const fetcher = async () => {
        // await console.log("hello");, this can't work, cause this is not a promise
        try {
          let response = await fetch(
            "https://jsonplaceholder.typicode.com/users"
          );
          if (response.ok) {
            let data = await response.json();
            list = data.map((person) => person.name);

            console.log(data);
            console.log(list);
          } else {
            alert("something went wrong tronc!");
          }
        } catch (error) {
          console.log(error);
        }
      };
      fetcher();
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
